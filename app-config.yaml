app:
  title: Scaffolded Backstage App
  baseUrl: http://localhost:3000

backend:
  baseUrl: http://localhost:7007
  listen:
    port: 7007
  csp:
    connect-src: ["'self'", 'http:', 'https:']
  cors:
    origin: http://localhost:3000
    methods: [GET, HEAD, PATCH, POST, PUT, DELETE]
    credentials: true
  database:
    client: pg
    connection:
      host: localhost
      port: 5432
      user: postgres
      password: postgres

auth:
  providers:
    guest:
      userEntityRef: user:default/bob
      ownershipEntityRefs: [group:default/devops]
      dangerouslyAllowOutsideDevelopment: false

# see https://backstage.io/docs/permissions/getting-started for more on the permission framework
permission:
  # setting this to `false` will disable permissions
  enabled: true

catalog:
  orphanStrategy: delete
  processingInterval: { minutes: 1 }
  rules:
    - allow:
        - User
        - Group
        - System
        - Component
        - Domain
        - API
        - Resource
  locations:
    - type: file
      target: ../../catalog.local-dev.yaml

aiAssistant:
  storage:
    pgVector:
      chunkSize: 800
      amount: 10
  ingestion:
    schedule:
      frequency:
        days: 1
      timeout:
        hours: 1
  embeddings:
    ollama:
      model: '<your-model>'
      apiKey: '<your-api-key>'
      baseUrl: '<your-base-url>'
    azureOpenAi:
      deploymentName: '<your-deployment-name>'
      instanceName: '<your-instance-name>'
      apiKey: '<your-api-key>'
      endpoint: '<your-azure-openai-endpoint>'
      openAIApiVersion: <your-deployments-openai-version>

  models:
    ollama:
      baseUrl: '<your-base-url>'
      apiKey: '<your-api-key>'
      models:
        - '<your-model>'
    azureAiInference:
      apiKey: <your-api-key>
      models:
        - endpoint: <your-azure-ai-foundry-endpoint>
          modelName: '<your-model>'
